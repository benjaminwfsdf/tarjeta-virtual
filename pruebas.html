<!DOCTYPE html>
<html lang="es-CL">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>El Se√±or de los Scanner | Tarjeta Virtual</title>
<meta name="theme-color" content="#161616" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --ink:#fff; --muted:#d9d9d9;
    --shadow:0 14px 32px rgba(0,0,0,.36);

    --btn-whatsapp:#25D366;
    --btn-blue:#5b8ecf;
    --btn-yellow:#ffbc49;
    --btn-green:#7cb342;
    --btn-purple:#8e44ad;
    --btn-red:#e74c3c; /* NUEVO: color rojo para el bot√≥n de precio */

    --gold:#d4af37;               /* DORADO */
    --raise: clamp(90px, 12vh, 180px);
  }
  *{box-sizing:border-box}
  html, body{height:100%; overflow:hidden; overscroll-behavior:none;}
  body{
    margin:0; background:#000; color:var(--ink);
    font-family:Arimo,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
    padding-bottom:56px;
    position:fixed; inset:0;
  }

  /* ===== MODAL DE PROMOCI√ìN ESPECIAL - VERSI√ìN MINI ===== */
  .promo-modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.75); /* M√°s transl√∫cido para ver la tarjeta */
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.4s ease-out;
    backdrop-filter: blur(3px); /* Desenfoque del fondo */
  }
  
  .promo-content.mini {
    background: rgba(10, 14, 20, 0.85); /* Fondo m√°s transl√∫cido */
    border-radius: 20px;
    padding: 25px 30px;
    max-width: 380px;
    width: 90%;
    border: 2px solid var(--gold);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(212, 175, 55, 0.2);
    position: relative;
    animation: slideUp 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
    text-align: center;
    backdrop-filter: blur(5px); /* Desenfoque interno */
  }
  
  .promo-content.full {
    background: rgba(10, 14, 20, 0.9); /* Fondo m√°s transl√∫cido */
    border-radius: 20px;
    padding: 30px;
    max-width: 480px;
    width: 90%;
    border: 2px solid var(--gold);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(212, 175, 55, 0.2);
    position: relative;
    animation: slideUp 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
    backdrop-filter: blur(5px); /* Desenfoque interno */
  }
  
  .promo-header {
    text-align: center;
    margin-bottom: 25px;
  }
  
  .promo-header.mini {
    margin-bottom: 20px;
  }
  
  .promo-title {
    font-size: 28px;
    font-weight: 700;
    color: var(--gold);
    margin: 0 0 10px 0;
    text-shadow: 0 2px 10px rgba(212, 175, 55, 0.3);
  }
  
  .promo-title.mini {
    font-size: 32px;
    margin-bottom: 15px;
  }
  
  .promo-subtitle {
    font-size: 18px;
    color: #fff;
    margin: 0;
    font-weight: 600;
  }
  
  .promo-body {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 15px;
    padding: 25px;
    margin-bottom: 25px;
    border: 1px solid rgba(212, 175, 55, 0.2);
  }
  
  .promo-item {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .promo-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
  
  .promo-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(145deg, var(--gold), #b8941f);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: #000;
    flex-shrink: 0;
  }
  
  .promo-text {
    flex: 1;
  }
  
  .promo-text h4 {
    margin: 0 0 5px 0;
    font-size: 18px;
    color: #fff;
  }
  
  .promo-text p {
    margin: 0;
    font-size: 14px;
    color: var(--muted);
    line-height: 1.4;
  }
  
  .promo-offer {
    text-align: center;
    background: linear-gradient(145deg, rgba(212, 175, 55, 0.1), rgba(0, 0, 0, 0.2));
    border-radius: 12px;
    padding: 20px;
    margin: 25px 0;
    border: 1px solid rgba(212, 175, 55, 0.3);
  }
  
  .promo-offer p {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
    color: var(--gold);
  }
  
  .promo-cta {
    text-align: center;
  }
  
  .promo-btn {
    background: linear-gradient(145deg, var(--btn-red), #c0392b);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 16px 40px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 8px 20px rgba(231, 76, 60, 0.3);
  }
  
  .promo-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 25px rgba(231, 76, 60, 0.4);
  }
  
  .promo-btn:active {
    transform: translateY(0);
  }
  
  .promo-btn.mini {
    background: linear-gradient(145deg, var(--gold), #b8941f);
    color: #000;
    font-weight: 800;
    padding: 18px 45px;
    font-size: 20px;
    margin-top: 10px;
  }
  
  .promo-close {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    transition: all 0.3s ease;
  }
  
  .promo-close:hover {
    background: rgba(255, 255, 255, 0.2);
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ===== HERO ===== */
  .hero{
    position:relative;
    background:#0b0d0f url("img/portada-nueva.png") no-repeat right bottom/cover;
    min-height:130svh;
    display:flex; align-items:center;
  }
  .hero::before{
    content:""; position:absolute; inset:0;
    background:
      linear-gradient(90deg, rgba(0,0,0,.88) 0%, rgba(0,0,0,.64) 30%, rgba(0,0,0,.30) 58%, rgba(0,0,0,.08) 78%, rgba(0,0,0,0) 100%),
      linear-gradient(0deg, rgba(0,0,0,.06), rgba(0,0,0,.06));
    pointer-events:none;
  }
  .hero .container{
    position:relative; z-index:2; margin:0 auto; width:100%; max-width:1180px;
    padding:32px 20px;
    display:grid; grid-template-columns:minmax(300px,420px) 1fr; gap:24px; align-items:stretch;
    transform: translateY(calc(-1 * var(--raise)));
  }
  @media (min-width:1200px){
    .hero{ background-position: 70% 92%; }
    :root{ --raise: clamp(110px, 14vh, 200px); }
  }
  @media (max-width:980px){
    .hero{ background-position: 65% 95%; }
    .hero .container{ grid-template-columns:1fr; gap:16px; padding:18px 14px 22px; transform:none; }
  }

  /* ===== Tarjeta con volteo ===== */
  .card-wrap{ display:flex; align-items:stretch; min-height:420px; max-height:560px; }
  .card-container{ perspective:1400px; -webkit-perspective:1400px; width:100%; display:block; border-radius:16px; }
  .card{
    width:100%; height:100%; position:relative;
    transform-style:preserve-3d; -webkit-transform-style:preserve-3d;
    transition:transform 640ms cubic-bezier(.2,.8,.2,1);
    will-change: transform; transform: translateZ(0);
    backface-visibility:hidden; -webkit-backface-visibility:hidden;
  }
  .card.flipped{ transform: rotateY(180deg); }

  .card-face{
    position:absolute; inset:0; display:flex;
    backface-visibility:hidden; -webkit-backface-visibility:hidden;
    transform: translateZ(0);
  }
  .card-back{ transform:rotateY(180deg); }

  /* ===== LEFT: negro transl√∫cido ===== */
  .left{
    flex:1;
    padding:20px 18px;
    background: linear-gradient(180deg, rgba(0,0,0,0.70), rgba(0,0,0,0.58));
    border:1px solid rgba(255,255,255,0.06);
    border-radius:14px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(6px) saturate(1.05);
    text-align:center;
    display:flex; flex-direction:column; gap:12px;
    color:var(--ink);
    backface-visibility:hidden; -webkit-backface-visibility:hidden;
  }
  .left .logo{ display:flex; justify-content:center; }
  .left .logo img{
    max-width:210px;height:auto;display:block;margin:0 auto;border-radius:6px;
    box-shadow: 0 8px 26px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.02);
    background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
    padding:8px;
  }

  .h3{ margin:0; font-size:34px; line-height:1.05; font-weight:700; text-shadow: 0 4px 18px rgba(0,0,0,.6); }
  .sub{ margin:0; font-size:15px; color:var(--muted); }
  .div-line{ height:1px;background:rgba(255,255,255,.07); margin:6px auto 4px; max-width:220px; border-radius:2px; }

  /* ===== CTA: texto blanco + borde dorado (fondo transl√∫cido) ===== */
  .flip-hint{
    display:inline-flex; align-items:center; gap:10px;
    font-size:17px; font-weight:800; letter-spacing:.2px;
    color:#fff;                      /* letras blancas */
    text-shadow: 0 2px 10px rgba(0,0,0,.40);
    background:rgba(0,0,0,.45);      /* fondo transl√∫cido oscuro */
    border:1px solid rgba(212,175,55,.75);  /* borde dorado transl√∫cido */
    padding:10px 16px; border-radius:999px;
    margin:2px auto 0;
    box-shadow:
      0 10px 22px rgba(0,0,0,.28),
      0 0 12px rgba(212,175,55,.18);          /* leve brillo dorado */
    cursor:pointer; user-select:none;
    animation:pulse 2.2s ease-out infinite;
  }
  .flip-hint .arrow{
    color:var(--gold);               /* flecha dorada */
    display:inline-block; transform-origin:left center;
    animation:wiggleR 1.6s ease-in-out infinite; /* movimiento hacia la derecha */
    opacity:.95;
  }
  /* misma flecha ‚ûú pero espejada para "volver" */
  .flip-hint .arrow.back{
    transform:scaleX(-1);            /* espejo horizontal */
    animation:wiggleL 1.6s ease-in-out infinite; /* movimiento hacia la izquierda */
  }

  .flip-hint:hover{ filter:saturate(1.06); transform:translateY(-1px); }
  .flip-hint:active{ transform:translateY(0); }

  @keyframes pulse{
    0%{ box-shadow:0 0 0 0 rgba(212,175,55,.35), 0 0 12px rgba(212,175,55,.18); }
    70%{ box-shadow:0 0 0 14px rgba(212,175,55,0), 0 0 12px rgba(212,175,55,.18); }
    100%{ box-shadow:0 0 0 0 rgba(212,175,55,0), 0 0 12px rgba(212,175,55,.18); }
  }
  @keyframes wiggleR{ 0%,100%{transform:translateX(0);} 50%{transform:translateX(4px);} }
  @keyframes wiggleL{ 0%,100%{transform:translateX(0);} 50%{transform:translateX(-4px);} }

  /* ===== Reverso: servicios ===== */
  .services{ display:grid; gap:10px; text-align:left; margin-top:6px; overflow:auto; padding-right:6px; }
  .svc{
    display:grid; grid-template-columns:44px 1fr; gap:12px; align-items:flex-start;
    background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.06));
    border:1px solid rgba(255,255,255,.03);
    border-radius:12px; padding:10px 12px;
  }
  .svc .ico{ width:44px; height:44px; border-radius:10px; display:grid; place-items:center; font-size:20px;
    background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.08));
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
  }
  .svc h4{ margin:0; font-size:16px; font-weight:700; }
  .svc p{ margin:6px 0 0; font-size:13.5px; color:var(--muted); line-height:1.25; }

  /* ===== RIGHT ===== */
  .right{ display:flex; flex-direction:column; gap:12px; min-height:420px; }
  .title-box{
    background: linear-gradient(180deg, rgba(10,12,14,.72), rgba(15,21,29,.48));
    border:1px solid rgba(255,255,255,.06);
    border-radius:14px; padding:12px 16px; backdrop-filter: blur(3px);
    box-shadow: 0 8px 20px rgba(0,0,0,.28);
  }
  .title{ font-size:28px; font-weight:700; margin:0; text-shadow:0 6px 20px rgba(0,0,0,.55); }
  .subtitle{ font-size:14px; margin:6px 0 0; color:var(--muted); }

  /* ===== Botonera ===== */
  .btns{ background:transparent; padding:6px 0; display:grid; grid-template-columns:repeat(3,1fr); gap:12px; align-items:start; }
  .btn{ display:inline-flex; align-items:center; justify-content:center; padding:12px 14px; font-weight:700; font-size:16px; letter-spacing:.2px; color:#fff; text-decoration:none; border-radius:10px; box-shadow: 0 8px 18px rgba(0,0,0,.30); transition:transform .12s ease,filter .12s ease; cursor:pointer; min-height:46px; width:100%; max-width:220px; margin:0 auto; }
  .btn:hover{ transform:translateY(-2px); filter:saturate(1.05); }
  .btn:active{ transform:translateY(0) scale(.995); }
  .btn-whatsapp{ background:var(--btn-whatsapp); }
  .btn-blue{ background:var(--btn-blue); }
  .btn-yellow{ background:var(--btn-yellow); color:#0a0a0a; }
  .btn-green{ background:var(--btn-green); }
  .btn-purple{ background:var(--btn-purple); }
  .btn-red{ background:var(--btn-red); } /* NUEVO: estilo para bot√≥n de precio */

  /* ===== Barra fija ===== */
  .infobar{
    position:fixed; left:0; right:0; bottom:0; z-index:60;
    display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
    padding:10px 14px; background:rgba(0,0,0,.72);
    backdrop-filter:saturate(1.2) blur(4px);
    color:#cfcfcf; font-size:13px; line-height:1.35;
    border-top:1px solid rgba(255,255,255,.06);
  }
  .infobar .left-mini{ opacity:.95; }
  .infobar .right-mini{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }

  /* ===== Modal ===== */
  .modal{ position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55); z-index:80; }
  .modal.open{ display:grid; }
  .box{ width:min(520px,92vw); background:#0f151d; border:1px solid #223042; border-radius:18px; box-shadow:var(--shadow); padding:18px; color:#eaf2ff; }
  .row-btns{ display:flex; gap:10px; justify-content:flex-end; margin-top:8px; }
  .btn-mini{ appearance:none; border:none; border-radius:10px; padding:10px 14px; color:#fff; cursor:pointer; background:#1f2a38; }
  .btn-mini.ok{ background:#2ecc71; }

  /* ===== Celular ===== */
  @media (max-width:430px){
    html, body{ height:auto; overflow:auto; }
    body{ position:static; padding-bottom:82px; }
    .hero{ min-height:100svh; background-image:url("img/portada-mobile.jpg"); background-position:center bottom; background-size:cover; }
    .hero::before{ background: linear-gradient(0deg, rgba(0,0,0,.25) 0%, rgba(0,0,0,.10) 45%, rgba(0,0,0,.00) 70%), linear-gradient(180deg, rgba(0,0,0,.15) 0%, rgba(0,0,0,.35) 100%); }
    .hero .container{ transform:none; padding:16px 14px 18px; gap:14px; grid-template-columns:1fr; }
    .card-wrap{ min-height:420px; max-height:none; }
    .left{ padding:14px; border-radius:14px; }
    .left .logo img{ max-width:160px; }
    .h3{ font-size:28px; }
    .sub{ font-size:14px; }
    .div-line{ max-width:180px; margin:6px auto; }
    .services{ max-height:50vh; }
    .title-box{ padding:10px 12px; border-radius:14px; }
    .title{ font-size:24px; }
    .subtitle{ font-size:13px; }
    .btns{ grid-template-columns:1fr; gap:10px; padding:2px 0; }
    .btn{ max-width:none; width:100%; min-height:46px; font-size:15px; padding:11px 14px; border-radius:10px; box-shadow: 0 6px 14px rgba(0,0,0,.22); }
    .flip-hint{ font-size:18px; padding:12px 18px; }
    
    /* Ajustes para el modal de promoci√≥n en m√≥vil */
    .promo-content.mini {
      padding: 20px;
      width: 90%;
    }
    
    .promo-content.full {
      padding: 20px;
      width: 95%;
    }
    
    .promo-title.mini {
      font-size: 28px;
    }
    
    .promo-title {
      font-size: 22px;
    }
    
    .promo-subtitle {
      font-size: 16px;
    }
    
    .promo-item {
      gap: 12px;
    }
    
    .promo-icon {
      width: 40px;
      height: 40px;
      font-size: 20px;
    }
    
    .promo-text h4 {
      font-size: 16px;
    }
    
    .promo-text p {
      font-size: 13px;
    }
    
    .promo-offer p {
      font-size: 18px;
    }
    
    .promo-btn {
      padding: 14px 30px;
      font-size: 16px;
    }
    
    .promo-btn.mini {
      padding: 16px 35px;
      font-size: 18px;
    }
  }
</style>
</head>
<body>

  <!-- ===== MODAL DE PROMOCI√ìN ESPECIAL ===== -->
  <div class="promo-modal" id="promoModal">
    <!-- Modal mini (se muestra primero) -->
    <div class="promo-content mini" id="promoMini">
      <button class="promo-close" id="promoCloseMini">√ó</button>
      
      <div class="promo-header mini">
        <h2 class="promo-title mini">¬°PROMOCI√ìN ESPECIAL!</h2>
       
      </div>
      
      <div class="promo-cta">
        <button class="promo-btn mini" id="promoSeeMoreBtn">
          VER OFERTA
        </button>
      </div>
    </div>

    <!-- Modal completo (se muestra al hacer clic en VER OFERTA) -->
    <div class="promo-content full" id="promoFull" style="display: none;">
      <button class="promo-close" id="promoCloseFull">√ó</button>
      
      <div class="promo-header">
        <h2 class="promo-title">¬°PROMOCI√ìN ESPECIAL!</h2>
     
      </div>
      
      <div class="promo-body">
        <div class="promo-item">
          <div class="promo-icon">üîß</div>
          <div class="promo-text">
            <h4>Regeneraci√≥n de DPF</h4>
            <p>Limpieza profunda del filtro de part√≠culas di√©sel. Recupera la potencia original de tu veh√≠culo y reduce las emisiones contaminantes.</p>
          </div>
        </div>
        
        <div class="promo-item">
          <div class="promo-icon">üõ¢Ô∏è</div>
          <div class="promo-text">
            <h4>Cambio de Aceite Premium</h4>
            <p>Cambio completo de aceite con productos de primera calidad. Incluye filtro de aceite y verificaci√≥n de niveles.</p>
          </div>
        </div>
        
        <div class="promo-offer">
          <p>¬°Consulta tu oferta personalizada!</p>
        </div>
      </div>
      
      <div class="promo-cta">
        <button class="promo-btn" id="promoWhatsAppBtn">
          COTIZAR AHORA POR WHATSAPP
        </button>
      </div>
    </div>
  </div>

  <!-- ===== HERO ===== -->
  <section class="hero" role="banner">
    <div class="container">

      <!-- IZQUIERDA (tarjeta que da la vuelta) -->
      <div class="card-wrap">
        <button class="card-container" id="flipCardBtn" aria-label="Ver reverso con servicios" title="Haz clic para ver nuestros servicios" tabindex="0" style="border:none;background:transparent;">
          <div class="card" id="flipCard" aria-hidden="false">
            <!-- Frente -->
            <div class="card-face card-front">
              <div class="left">
                <div class="logo">
                  <img src="img/logo.jpg" alt="El Se√±or de los Scanner" onerror="this.style.display='none'">
                </div>
                <h3 class="h3">Scanner Automotriz</h3>
                <p class="sub">Scanner automotriz para todo veh√≠culo</p>
                <div class="div-line"></div>
                <p class="flip-hint"><span class="arrow">‚ûú</span> Haz clic para ver nuestros servicios</p>
              </div>
            </div>

            <!-- Reverso -->
            <div class="card-face card-back">
              <div class="left" aria-live="polite">
                <h3 class="h3">¬øQu√© servicios ofrecemos?</h3>
                <p class="sub">Especialistas en diagn√≥stico automotriz</p>
                <div class="div-line"></div>

                <div class="services" role="list">
                  <article class="svc" role="listitem">
                    <div class="ico">üîç</div>
                    <div>
                      <h4>Scanner</h4>
                      <p>Evaluaci√≥n detallada de los sistemas electr√≥nicos, lectura y borrado de c√≥digos y pruebas activas para todas las marcas.</p>
                    </div>
                  </article>

                  <article class="svc" role="listitem">
                    <div class="ico">üß∞</div>
                    <div>
                      <h4>Reparaci√≥n de computadores</h4>
                      <p>Reparaci√≥n de m√≥dulos (ECU/BCM) tras golpes, cortocircuitos o fallas internas; opci√≥n segura frente al reemplazo.</p>
                    </div>
                  </article>

                  <article class="svc" role="listitem">
                    <div class="ico">üíß</div>
                    <div>
                      <h4>Limpieza de inyectores</h4>
                      <p>Limpieza por ultrasonido y puesta a punto para recuperar rendimiento y ahorro de combustible.</p>
                    </div>
                  </article>

                  <article class="svc" role="listitem">
                    <div class="ico">üîë</div>
                    <div>
                      <h4>Copia de llave con chip</h4>
                      <p>Programaci√≥n y copia de llaves con transponder (chip). Servicio para la mayor√≠a de marcas: diagn√≥stico de inmovilizador y programaci√≥n en sitio.</p>
                    </div>
                  </article>

                  <article class="svc" role="listitem">
                    <div class="ico">üèÅ</div>
                    <div>
                      <h4>Con√≥cenos</h4>
                      <p>M√°s de 10 equipos de diagn√≥stico. Ubicaci√≥n: Pasaje Iquitos 229, Lo Prado (cerca Metro Neptuno).</p>
                    </div>
                  </article>
                </div>

                <div class="div-line"></div>
                <!-- Flecha igual (‚ûú) pero espejada hacia la izquierda -->
                <p class="flip-hint"><span class="arrow back">‚Üê</span> Haz clic nuevamente para volver</p>
              </div>
            </div>
          </div>
        </button>
      </div>

      <!-- DERECHA -->
      <div class="right">
        <div class="title-box">
          <h2 class="title">Especialistas en Scanner</h2>
          <p class="subtitle">Equipos de primera l√≠nea para diagn√≥stico automotriz</p>
        </div>

        <!-- Botones -->
        <div class="btns" aria-label="Acciones r√°pidas">
          <a class="btn btn-whatsapp" data-action="whatsapp"
             data-number="56976209564"
             data-text="Hola, vengo desde la Tarjeta Virtual. Me gustar√≠a cotizar (solo MENSAJES, por favor)."
             data-source="tarjeta">
            WhatsApp
          </a>

          <a class="btn btn-blue" data-action="horario">Horario</a>

          <a class="btn btn-green" data-action="vcard">Guardar contacto</a>

          <a class="btn btn-yellow" data-action="open"
             data-href="https://www.google.com/maps?q=Pasaje+Iquitos+229,+Lo+Prado,+Santiago,+Chile">Ubicaci√≥n</a>

          <a class="btn btn-purple" data-action="open"
             data-href="https://www.elsenordelosescaner.cl">Visitar web</a>

          <!-- NUEVO BOT√ìN DE PRECIO -->
          <a class="btn btn-red" data-action="precio">Precio</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Barra fija (solo cr√©dito) ===== -->
  <div class="infobar" role="contentinfo">
    <div class="left-mini">¬© <span id="year"></span> El Se√±or de los Scanner</div>
    <div class="right-mini">
      <span>Hecho por <strong>Benjam√≠n Gonz√°lez</strong></span>
    </div>
  </div>

  <!-- ===== Modal ===== -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="box" role="dialog" aria-modal="true">
      <h3 id="modalTitle">Aviso</h3>
      <div id="modalBody"></div>
      <div class="row-btns">
        <button class="btn-mini ok" id="modalOk">OK</button>
      </div>
    </div>
  </div>

<script>
  const CFG = {
    nombre: "El Se√±or de los Scanner",
    sitio: "https://www.elsenordelosescaner.cl",
    whatsappNumero: "56976209564",
    // Mensaje ORIGINAL para la tarjeta virtual
    whatsappTexto: "Hola, vengo desde la Tarjeta Virtual. Me gustar√≠a cotizar (solo MENSAJES, por favor).",
    // Mensaje ESPECIAL para la promoci√≥n
    whatsappTextoPromo: "Hola, vengo desde la promoci√≥n especial. Me interesa la regeneraci√≥n de DPF y cambio de aceite. ¬øPodr√≠an enviarme m√°s informaci√≥n y precio?",
    mapsUrl: "https://www.google.com/maps?q=Pasaje+Iquitos+229,+Lo+Prado,+Santiago,+Chile",
    telefono: "+56976209564",
    correo: "waldo.gonzalez02@gmail.com"
  };

  const $  = (s, r=document)=>r.querySelector(s);
  const openURL = url => window.open(url, "_blank", "noopener");

  // Modal de promoci√≥n
  const promoModal = $("#promoModal");
  const promoMini = $("#promoMini");
  const promoFull = $("#promoFull");
  const promoCloseMini = $("#promoCloseMini");
  const promoCloseFull = $("#promoCloseFull");
  const promoSeeMoreBtn = $("#promoSeeMoreBtn");
  const promoWhatsAppBtn = $("#promoWhatsAppBtn");

  // Mostrar modal mini al cargar la p√°gina
  document.addEventListener('DOMContentLoaded', () => {
    // Mostrar despu√©s de 1 segundo
    setTimeout(() => {
      promoModal.style.display = 'flex';
      promoMini.style.display = 'block';
      promoFull.style.display = 'none';
    }, 1000);
  });

  // Funci√≥n para mostrar la versi√≥n completa
  promoSeeMoreBtn.addEventListener('click', () => {
    promoMini.style.display = 'none';
    promoFull.style.display = 'block';
  });

  // Funci√≥n para cerrar modal mini
  promoCloseMini.addEventListener('click', () => {
    promoModal.style.display = 'none';
  });

  // Funci√≥n para cerrar modal full
  promoCloseFull.addEventListener('click', () => {
    promoModal.style.display = 'none';
  });

  // Cerrar modal al hacer clic fuera del contenido
  promoModal.addEventListener('click', (e) => {
    if (e.target === promoModal) {
      promoModal.style.display = 'none';
    }
  });

  // Bot√≥n de WhatsApp en el modal de promoci√≥n (usa mensaje ESPECIAL)
  promoWhatsAppBtn.addEventListener('click', () => {
    promoModal.style.display = 'none';
    const num = CFG.whatsappNumero;
    const text = encodeURIComponent(CFG.whatsappTextoPromo);
    openURL(`https://wa.me/${num}?text=${text}`);
  });

  const modal = $("#modal"), mTitle=$("#modalTitle"), mBody=$("#modalBody");
  let afterOk = null;
  const showModal=(title, html, callback)=>{
    if(title) mTitle.textContent=title;
    if(html) mBody.innerHTML=html;
    modal.classList.add("open");
    afterOk = callback || null;
  };
  const hideModal=()=>{ modal.classList.remove("open"); if(afterOk){ afterOk(); afterOk=null; } };
  $("#modalOk").addEventListener("click", hideModal);
  modal.addEventListener("click", e=>{ if(e.target===modal) hideModal(); });

  const handlers = {
    open: el => { const href = el.dataset.href || CFG.mapsUrl; openURL(href); },
    whatsapp: (el) => {
      // Determinar qu√© mensaje usar seg√∫n el origen
      const source = el.dataset.source || 'tarjeta';
      const whatsappText = source === 'promocion' ? CFG.whatsappTextoPromo : CFG.whatsappTexto;
      
      showModal("WhatsApp (solo mensajes)",
        `<p>Atendemos <strong>solo por mensajes</strong> de WhatsApp.<br><em>No se reciben llamadas por WhatsApp.</em></p>`,
        ()=> {
          const num  = CFG.whatsappNumero;
          const text = encodeURIComponent(whatsappText);
          openURL(`https://wa.me/${num}?text=${text}`);
        });
    },
    horario: () => {
      showModal("Horario de atenci√≥n",
        `<p><strong>Lunes a Jueves:</strong> 08:00 ‚Äì 17:00 <span style="opacity:.85">(colaci√≥n 14:00 ‚Äì 15:00)</span></p>
         <p><strong>Viernes:</strong> 08:00 ‚Äì 14:00</p>
         <p><strong>S√°bado, Domingo y feriados:</strong> Cerrado</p>`);
    },
    vcard: () => {
      const vcard =
`BEGIN:VCARD
VERSION:3.0
N:${CFG.nombre};;;;
FN:${CFG.nombre}
TEL;CELL:${CFG.telefono}
EMAIL:${CFG.correo}
URL:${CFG.sitio}
END:VCARD`;
      const blob = new Blob([vcard], {type:"text/vcard;charset=utf-8"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url; a.download = "ElSenorDeLosScanner.vcf";
      document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
      showModal("Contacto guardado","Se descarg√≥ la ficha de contacto. √Åbrela para a√±adirla a tu agenda.");
    },
    // NUEVO HANDLER PARA EL BOT√ìN DE PRECIO
    precio: () => {
      showModal("Precio del Scanner",
        `<p style="font-size: 18px; text-align: center; margin-bottom: 10px;">
          <strong>Scanner:</strong>
        </p>
        <p style="text-align: center; margin: 20px 0; font-size: 28px; color: #e74c3c;">
          <strong>$20.000 + IVA</strong>
        </p>
        <p style="text-align: center; font-size: 14px; color: #d9d9d9; margin-top: 20px;">
          <em>Consulta precios para otros servicios</em>
        </p>`);
    }
  };

  // Flip (click + teclado)
  const flipCardBtn = $("#flipCardBtn");
  const flipCard = $("#flipCard");
  const toggleFlip = ()=> flipCard.classList.toggle("flipped");
  flipCardBtn.addEventListener("click", toggleFlip);
  flipCardBtn.addEventListener("keydown", (e)=>{
    if(e.key === "Enter" || e.key === " "){ e.preventDefault(); toggleFlip(); }
  });

  // Delegaci√≥n de botones
  document.addEventListener("click", (e)=>{
    const btn = e.target.closest("[data-action]");
    if(!btn) return;
    e.preventDefault();
    const action = btn.dataset.action;
    if(handlers[action]) handlers[action](btn);
  });

  // Footer din√°mico
  const y = document.getElementById("year");
  if(y) y.textContent = new Date().getFullYear();
</script>
</body>
</html>